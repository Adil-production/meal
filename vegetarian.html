<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
<script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <title>Meal app</title>

</head>
<body>
    <div id="error" style="position: absolute; top: 50%; left: 50%; transform: translate(-50% , -50%);">
        <ion-text color="danger">An error</ion-text>
        <br>
        <ion-icon name="refresh-sharp" onclick="window.location.reload()" style="font-size: 50px;"></ion-icon>
    </div>
<ion-app id="app">
    <ion-header>
        <ion-toolbar>
          <ion-item>
            <a href="index.html" style="text-decoration: none; color: inherit; outline: none; transform: translateY(13%);"><ion-icon name="arrow-back-sharp" style=" text-decoration: none; color: inherit; font-size: 25px;outline: none;"></ion-icon></a>
            <ion-title>Vegetarian</ion-title>
          </ion-item>

        </ion-toolbar>
   
    </ion-header>
    <ion-content class="ion-padding">
        <div id="main"></div>
        <div id="detail"></div>
    </ion-content>
</ion-app>
<script>
const API_CATH = 'https://www.themealdb.com/api/json/v1/1/filter.php?c=Vegetarian';

var main = document.getElementById('main')
var form = document.getElementById("form")





getMeals(API_CATH)

async function getMeals(url) {
    const res = await fetch(url)
    const data = await res.json()
    try{
        showMeals(data.meals)
    }catch(error){
        document.getElementById("app").style.display = "none";
    }

    console.log(data)
}


function showMeals(meals) {
    main.innerHTML = ''

    meals.forEach((meal) => {
        const { strInstructions , strMealThumb , strMeal , strArea , strIngredient1 , strIngredient2 , strIngredient3 , strIngredient4 , strIngredient5 , strIngredient6 , strIngredient7 , strIngredient8 , strIngredient9 , strIngredient11 , strIngredient10 , strIngredient12 , strIngredient13 , strIngredient14 , strIngredient15 , strIngredient16 , strIngredient17 , strIngredient18 , strIngredient19 , strIngredient20 } = meal

        const movieEl = document.createElement('div')
        var mealDetail = document.getElementById("detail")

        movieEl.innerHTML = `
        <ion-card>
        <ion-img src="${strMealThumb}" style="width : 100%;" ></ion-img>
        <ion-card-header>
          <ion-card-title>${strMeal}</ion-card-title>
        </ion-card-header>
        <ion-card-content>

        </ion-card-content>
      </ion-card>
        `

        main.appendChild(movieEl)
    })
    
}



</script>




</body>
</html>